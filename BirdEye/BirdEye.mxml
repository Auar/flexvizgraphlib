<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:flexlib="http://code.google.com/p/flexlib/"
	xmlns:visualize="org.un.birdeye.visualize.*"
	xmlns:record="org.un.birdeye.record.*"
	xmlns:report="org.un.birdeye.report.*"
	xmlns:measure="org.un.birdeye.measure.*"
	xmlns:help="org.un.birdeye.help.*"
	xmlns:about="org.un.birdeye.about.*"
	backgroundGradientColors="[#cccccc, #666666]"
	layout="absolute" creationComplete="tbMain.removeChild(aboutCnvs);"
	width="100%" height="100%"
	  >
<mx:Script>
	<![CDATA[
       	import flexlib.events.TabReorderEvent;
        import flexlib.controls.SuperTabBar;
        import flexlib.containers.SuperTabNavigator;
        import flexlib.controls.tabBarClasses.SuperTab;
        import flexlib.skins.TabPopUpButtonSkin;
        
        // A nested XML collection for Measure and Report dataProviding
        public var gTreeXML:XML;
        
        // Handler for About Button
        private function clickMenuButtonHandler(event:Event):void {
			var buttonID:String = event.target.id;
			var selected:Boolean = event.target.selected;
			
			switch (buttonID) {
				case "btnAbout":
					if (selected) {
						tbMain.addChild(aboutCnvs);
						tbMain.selectedChild = aboutCnvs;
					} else
						tbMain.removeChild(aboutCnvs);
					break;
				
				default:
					// trace("default");
			}
		}
       
	]]>
</mx:Script>

<mx:Script source="/org/un/birdeye/sql/DAO.as" />

<mx:Script source="org/un/birdeye/ui/SaveSnapShot.as" />

<mx:Style source="/org/un/birdeye/style/css/main.css" />



<mx:VBox width="100%" height="100%" horizontalAlign="center" paddingBottom="5" paddingLeft="5" paddingRight="5" paddingTop="5" >
	<mx:ApplicationControlBar width="99%" height="38"  >
	
	<mx:HBox width="100%" height="100%" verticalAlign="top">
	
	<mx:Image source="@Embed(source='/org/un/birdeye/images/ui/birdeye.png')" width="32" height="32" verticalAlign="middle" />
	
	
   	<mx:VBox width="100%" height="100%" verticalGap="0" >
	<mx:Label id="logo" width="100%" height="17" text="BirdEye: EXPLORE, DISCOVER, UNDERSTAND..." fontSize="11" textAlign="left" bottom="1" paddingRight="5" />
	
	<mx:HRule width="100%" />
	
	</mx:VBox>
	
	<mx:Button 
			toolTip="Take Snapshot and save as image file"
			icon="@Embed(source='/org/un/birdeye/images/ui/camera.png')" 
  			id="btnSnapShot"
  			click="openWindow(event)"
  			/>
	<mx:Button 
			toolTip="About..."
			icon="@Embed(source='/org/un/birdeye/images/ui//info.png')" 
  			id="btnAbout" selected="false"
  			toggle="true" click="clickMenuButtonHandler(event);"
  			/>
  			
	</mx:HBox>
	</mx:ApplicationControlBar>
	
	<flexlib:SuperTabNavigator  x="10" y="10" minTabWidth="100" width="99%" height="100%" closePolicy="{SuperTab.CLOSE_NEVER}" id="tbMain" selectedIndex="0" paddingBottom="5" paddingLeft="5" paddingRight="5" creationPolicy="auto" >
	
		<!-- Visualization tab -->
		<mx:Canvas id="vizCnvs" label="Visualize" icon="@Embed('/org/un/birdeye/images/ui//visualization.png')" width="100%" height="100%" >
			<visualize:Visualize width="100%" height="100%" preinitialize="dbInit()" />		
		</mx:Canvas>
			
		
		<mx:Canvas id="dashboardCnvs" label="Measure" icon="@Embed('/org/un/birdeye/images/ui/chart.png')" width="100%" height="100%" >
			<measure:Measure width="100%" height="100%" />				
		</mx:Canvas>
		
		<mx:Canvas id="recordCnvs" label="Record" icon="@Embed('/org/un/birdeye/images/ui/Report.png')" width="100%" height="100%" >
			<record:Record width="100%" height="100%" />	
		</mx:Canvas>
		
		<mx:Canvas id="reportCnvs" label="Report" icon="@Embed('/org/un/birdeye/images/ui/Report.png')" width="100%" height="100%" >
			<report:Report width="100%" height="100%" />	
		</mx:Canvas>
		
		<mx:Canvas id="helpCnvs" label="Help" icon="@Embed('/org/un/birdeye/images/ui/info.png')" width="100%" height="100%" >
			<help:Help width="100%" height="100%" />
		</mx:Canvas>
		
		<mx:Canvas id="aboutCnvs" label="About..." icon="@Embed('/org/un/birdeye/images/ui/info.png')" width="100%" height="100%" >
			<about:About width="100%" height="100%" />
		</mx:Canvas>

	</flexlib:SuperTabNavigator>
	
</mx:VBox>


	
</mx:WindowedApplication>
